<!DOCTYPE html>
<html>
    <head>
        <title>Speedrun Math - Subtract</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='quhack.css') }}">
        <script src="extra.js"></script>

        <div class="topnav">
            <a href="/">Home</a>
            <a href="quhack2.html">Addition</a>
            <a class="active" href="quhack3.html">Subtraction</a>
            <a href="quhack4.html">Multiplication</a>
            <a href="quhack5.html">Division</a>
            <a href="quhack6.html">Mixed</a>
            <a href="quhack9.html">Self Assesment</a>
            <a href="quhack7.html">About</a>
        </div>
    </head>

    <body>
        <div class="all">
            <h1>Simple Subtraction Practice</h1>

            <!-- SHOW PROBLEM -->
            {% if problem %}
                <h1 class="h1">Problem: {{ problem_str }}</h1>

                {% if message %}
                    <p style="color:white;">{{ message }}</p>
                {% endif %}

                <form method="POST" action="/sub">
                    <input class="submit" type="text" name="user_answer" placeholder="Your answer here" />
                    <button class="submit" type="submit">Check</button>
                </form>

            <!-- NO PROBLEM SHOWN -->
            {% else %}

                <!-- SHOW RESULTS TABLE IF FINISHED -->
                {% if results %}
                    <!-- ADDED -->
                    <h2 style="color:white;">Results</h2>

                    <table style="color:white; border:1px solid white; border-collapse: collapse;">
                        <tr>
                            <th style="border:1px solid white; padding:5px;">Problem</th>
                            <th style="border:1px solid white; padding:5px;">Your Answer</th>
                            <th style="border:1px solid white; padding:5px;">Correct Answer</th>
                            <th style="border:1px solid white; padding:5px;">Status</th>
                        </tr>

                        {% for r in results %}
                        <tr>
                            <td style="border:1px solid white; padding:5px;">{{ r.problem }}</td>
                            <td style="border:1px solid white; padding:5px;">{{ r.your_answer }}</td>
                            <td style="border:1px solid white; padding:5px;">{{ r.correct_answer }}</td>
                            <td style="border:1px solid white; padding:5px;">{{ r.status }}</td>
                        </tr>
                        {% endfor %}
                    </table>

                    <br>
                    <a href="quhack3.html">
                        <button class="submit">Start Over</button>
                    </a>

                <!-- SHOW MESSAGE ONLY -->
                {% elif message %}
                    <p style="color:white;">{{ message }}</p>
                    <p>
                        <a href="quhack3.html">
                            <button type="submit" class="submit">Reset</button>
                        </a>
                    </p>

                <!-- SHOW START FORM -->
                {% else %}
                    <form method="POST" action="/sub">
                        <label for="max_number">Enter the maximum number:</label>
                        <input type="text" name="max_number" id="max_number" placeholder="e.g., 10" required />

                        <!-- ADDED -->
                        <br><br>
                        <label for="num_questions">How many questions?</label>
                        <input type="text" name="num_questions" id="num_questions" placeholder="e.g., 5" required />

                        <br><br>
                        <button class="submit" type="submit">Start</button>
                    </form>
                {% endif %}
            {% endif %}

            <img src="{{ url_for('static', filename='subtraction.png') }}">
            <br><br><br><br>
        </div>

        <div class="credits">
            <p>Website Made By: Samia Saeed and Tanvi Saha<br></p>
        </div>
    </body>
</html>
